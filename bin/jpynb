#!/bin/bash

DEFAULTPORT=8883
PORT="${1:-$DEFAULTPORT}"
XDG_RUNTIME_DIR=""
node=$(hostname -s).hpc.net.uq.edu.au
user=$(whoami)

echo -e "
If you have not set up the ssh tunnel,
Open a separate terminal on your local machine, and use the following to create a ssh tunnel:

If using bunya
ssh -N -f -L ${PORT}:${node}:${PORT} ${user}@bunya.rcc.uq.edu.au

If using wiener
ssh -N -f -L ${PORT}:${node}:${PORT} ${user}@wiener.hpc.dc.uq.edu.au

To access the notebook, open this in a browser:
    http://localhost:${PORT}/

Ignore the instructions below.
"

jupyter notebook --no-browser --port=${PORT} --ip=${node} --ServerApp.token=abcd
